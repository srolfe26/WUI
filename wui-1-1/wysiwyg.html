<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <title>WYSIWYG - WUI 1.1</title>
    
	<link rel="stylesheet" href="css/wui.css" type="text/css" media="all">
	
	<script type="text/javascript" src="js/jquery-1-8-3-ui-1-9-2.js"></script>
	<script type="text/javascript" src="js/wui.js"></script>
	<script type="text/javascript" src="js/forms.js"></script>
	<script type="text/javascript" src="js/grid.js"></script>
	
	<script type="text/javascript" class="wui-doc-code">
		$(document).ready(function(){
			// Add a text formItem onto the body
			a = new Wui.wysiwyg({ label:'WYSIWYG', name:'wysiwyg', attr:{name:'wysiwyg'}, height:200});
			a.addToDOM(a,$('h1'),'after');
			
			// Listener for a change to the text object
			$('.wui-fe[name=wysiwyg]').on('valchange',function(event,itm,oldVal,newVal,passedVal){
				ts.test('Listener on valchange fired',(itm == a));
			});

			// SHOW ITEM CREATION CODE
			Wui.docCode();
			
			// TESTING
			ts = new Wui.ts();
			ts.test("Get value on blank text field",function(){ return a.val() == null; });
			ts.test("Set value to 'Set Text'",function(){ return a.val('Set Text') == true; });
			ts.test("Make sure the value set to 'Set Text'",function(){ return a.val() == 'Set Text'; });
			ts.test("Change Blank Text",function(){return a.setBlankText('New Blank') == 'New Blank'; });
			ts.test("Blank out field",function(){ return a.val('') == true; });
			ts.test("Check Blank Text",function(){ return a.field.val() == 'New Blank'; });
			ts.test("Despite blank text, field value is null",function(){ return a.val() == null; });
			
			ts.test("Set Disabled",function(){ a.setDisabled(true); return a.el.hasClass('wui-disabled') == true; });
			ts.test("Change Blank Text",function(){return a.setBlankText('Test Complete') == 'Test Complete'});
			ts.test("Check Blank Text",function(){ return a.field.val() == 'Test Complete'; });
			ts.test("Set Enabled",function(){ return a.setDisabled(false); return !a.el.hasClass('wui-diabled'); });
			ts.test("Despite blank text, field value is null",function(){ return a.val() == null; });
		}); // end document.ready		
	</script>
</head>
<body class="wui-docs">
<h1>WYSIWYG</h1>
</body>
</html>