/*! Wui 1.2
 * Copyright (c) 2014 Stephen Rolfe Nielsen
 *
 * @license MIT
 * https://static.usurf.usu.edu/resources/wui-1.2/license.html
 */
!function(t,e){function i(e,i){var n,o,r,a=e.nodeName.toLowerCase();return"area"===a?(n=e.parentNode,o=n.name,e.href&&o&&"map"===n.nodeName.toLowerCase()?(r=t("img[usemap=#"+o+"]")[0],!!r&&s(r)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var s,n,o=t(this[0]);o.length&&o[0]!==document;){if(s=o.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,s){function n(e,i,s,n){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+s]=function(i){return i===e?a["inner"+s].call(this):this.each(function(){t(this).css(r,n(this,i)+"px")})},t.fn["outer"+s]=function(e,i){return"number"!=typeof e?a["outer"+s].call(this,e):this.each(function(){t(this).css(r,n(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;n.length>s;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)}})}(jQuery),function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(o){}n(e)},t.widget=function(i,s,n){var o,r,a,l,h={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,n||(n=s,s=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},r=t[c][i],a=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new a(t,i)},t.extend(a,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),l=new s,l.options=t.widget.extend({},l.options),t.each(n,function(i,n){return t.isFunction(n)?(h[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(h[i]=n,e)}),a.prototype=t.widget.extend(l,{widgetEventPrefix:r?l.widgetEventPrefix||i:i},h,{constructor:a,namespace:c,widgetName:i,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete r._childConstructors):s._childConstructors.push(a),t.widget.bridge(i,a)},t.widget.extend=function(i){for(var n,o,r=s.call(arguments,1),a=0,l=r.length;l>a;a++)for(n in r[a])o=r[a][n],r[a].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(r){var a="string"==typeof r,l=s.call(arguments,1),h=this;return r=!a&&l.length?t.widget.extend.apply(null,[r].concat(l)):r,this.each(a?function(){var s,n=t.data(this,o);return n?t.isFunction(n[r])&&"_"!==r.charAt(0)?(s=n[r].apply(n,l),s!==n&&s!==e?(h=s&&s.jquery?h.pushStack(s.get()):s,!1):e):t.error("no such method '"+r+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}:function(){var e=t.data(this,o);e?e.option(r||{})._init():t.data(this,o,new n(r,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,r,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},n=i.split("."),i=n.shift(),n.length){for(o=a[i]=t.widget.extend({},this.options[i]),r=0;n.length-1>r;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];a[i]=s}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var o,r=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,a){function l(){return i||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):e}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||t.guid++);var h=n.match(/^(\w+)\s*(.*)$/),c=h[1]+r.eventNamespace,u=h[2];u?o.delegate(u,c,l):s.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,r=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var r,a=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),r=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),r&&t.effects&&t.effects.effect[a]?s[e](n):a!==e&&s[a]?s[a](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],void(s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,o,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),r.grid&&(n=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-r.grid[1]:n+r.grid[1]:n,o=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,o=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var o=!1,r=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(r.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,o,r,a,l,h,c,u,d,p=t(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,b=i.offset.top,y=b+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)a=p.snapElements[u].left,l=a+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,a-g>v||m>l+g||h-g>y||b>c+g||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(s=g>=Math.abs(h-y),n=g>=Math.abs(c-b),o=g>=Math.abs(a-v),r=g>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=s||n||o||r,"outer"!==f.snapMode&&(s=g>=Math.abs(h-b),n=g>=Math.abs(c-y),o=g>=Math.abs(a-m),r=g>=Math.abs(l-v),s&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||o||r||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||o||r||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)
},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,o,r=(t.positionAbs||t.position.absolute).left,a=(t.positionAbs||t.position.absolute).top,l=r+t.helperProportions.width,h=a+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case"fit":return r>=c&&d>=l&&a>=u&&p>=h;case"intersect":return r+t.helperProportions.width/2>c&&d>l-t.helperProportions.width/2&&a+t.helperProportions.height/2>u&&p>h-t.helperProportions.height/2;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(o,u,i.proportions().height)&&e(n,c,i.proportions().width);case"touch":return(a>=u&&p>=a||h>=u&&p>=h||u>a&&h>p)&&(r>=c&&d>=r||l>=c&&d>=l||c>r&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],r=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;a.length>n;n++)if(a[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===r&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,r=t.ui.intersect(e,this,this.options.tolerance),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),o.length&&(s=t.data(o[0],"ui-droppable"),s.greedyChild="isover"===a)),s&&"isover"===a&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),s&&"isout"===a&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,o,r=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),o="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:a.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=n&&n[1]?n[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(t(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,o,r=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),s=e(this.helper.css("left")),n=e(this.helper.css("top")),r.containment&&(s+=t(r.containment).scrollLeft()||0,n+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},o=this.originalMousePosition,r=this.axis,a=this.position.top,l=this.position.left,h=this.size.width,c=this.size.height,u=e.pageX-o.left||0,d=e.pageY-o.top||0,p=this._change[r];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==a&&(n.top=this.position.top+"px"),this.position.left!==l&&(n.left=this.position.left+"px"),this.size.width!==h&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,r,a,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,r={width:c.helper.width()-o,height:c.helper.height()-n},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(r,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,o,r,a=this.options;r={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,s=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),r.maxWidth>s&&(r.maxWidth=s),r.maxHeight>o&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=i(t.width)&&e.minWidth&&e.minWidth>t.width,a=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return r&&(t.width=e.minWidth),a&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&c&&(t.left=l-e.minWidth),n&&c&&(t.left=l-e.maxWidth),a&&u&&(t.top=h-e.minHeight),o&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,o=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),r=o&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,s,n,o,r,a,l,h=t(this).data("ui-resizable"),c=h.options,u=h.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(h.containerElement=t(p),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=e(i.css("padding"+n))}),h.containerOffset=i.offset(),h.containerPosition=i.position(),h.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=h.containerOffset,o=h.containerSize.height,r=h.containerSize.width,a=t.ui.hasScroll(p,"left")?p.scrollWidth:r,l=t.ui.hasScroll(p)?p.scrollHeight:o,h.parentData={element:p,left:n.left,top:n.top,width:a,height:l}))},resize:function(e){var i,s,n,o,r=t(this).data("ui-resizable"),a=r.options,l=r.containerOffset,h=r.position,c=r._aspectRatio||e.shiftKey,u={top:0,left:0},d=r.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-u.left),c&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=a.helper?l.left:0),h.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?l.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,i=Math.abs((r._helper?r.offset.left-u.left:r.offset.left-u.left)+r.sizeDiff.width),s=Math.abs((r._helper?r.offset.top-u.top:r.offset.top-l.top)+r.sizeDiff.height),n=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),n&&o&&(i-=Math.abs(r.parentData.left)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,c&&(r.size.height=r.size.width/r.aspectRatio)),s+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-s,c&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,r=t(e.helper),a=r.offset(),l=r.outerWidth()-e.sizeDiff.width,h=r.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-n.left-s.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-n.left-s.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,o=s.originalSize,r=s.originalPosition,a={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-r.top||0,left:s.position.left-r.left||0},l=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),o={},r=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?l(n.alsoResize):t.each(n.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,r=e.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,h=a[1]||1,c=Math.round((s.width-n.width)/l)*l,u=Math.round((s.height-n.height)/h)*h,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=a,m&&(d+=l),v&&(p+=h),f&&(d-=l),g&&(p-=h),/^(se|s|e)$/.test(r)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(r)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(r)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):(p-h>0?(e.size.height=p,e.position.top=o.top-u):(e.size.height=h,e.position.top=o.top+n.height-h),d-l>0?(e.size.width=d,e.position.left=o.left-c):(e.size.width=l,e.position.left=o.left+n.width-l))}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s&&(!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,s){var n,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,r=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-t(document).scrollTop()<r.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed)),e.pageX-t(document).scrollLeft()<r.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,r=o+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+h>a&&l>s+h,d="y"===this.options.axis||e+c>o&&r>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&r>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>a&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return n?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();
return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var s,n,o,r,a=[],l=[],h=this._connectWith();if(h&&e)for(s=h.length-1;s>=0;s--)for(o=t(h[s]),n=o.length-1;n>=0;n--)r=t.data(o[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&l.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=l.length-1;s>=0;s--)l[s][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,r,a,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(r=u[i][1],a=u[i][0],s=0,h=a.length;h>s;s++)l=t(a[s]),l.data(this.widgetName+"-item",r),c.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td> </td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,r,a,l,h,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(r=1e4,a=null,p=f.floating||i(this.currentItem),l=p?"left":"top",h=p?"width":"height",c=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[l],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][h]-c)&&(d=!0,u+=this.items[o][h]),r>Math.abs(u-c)&&(r=Math.abs(u-c),a=this.items[o],this.direction=d?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;a?this._rearrange(s,a,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger("change",s,this._uiHash()),this.containers[g]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,r=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/n.grid[1])*n.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),!function(t,e,i){"undefined"!=typeof module&&module.exports?module.exports=i():t[e]=i()}(this,"verge",function(){var t={},e="undefined"!=typeof window&&window,i="undefined"!=typeof document&&document,s=i&&i.documentElement,n=e.matchMedia||e.msMatchMedia,o=n?function(t){return!!n.call(e,t).matches}:function(){return!1};return t.viewportW=function(){var t=s.clientWidth,i=e.innerWidth;return i>t?i:t},t.viewportH=function(){var t=s.clientHeight,i=e.innerHeight;return i>t?i:t},t.mq=o,t.matchMedia=n?function(){return n.apply(e,arguments)}:function(){return{}},t}),jQuery.extend(verge);var Wui=Wui||{version:"1.2.0"};!function(t,e){t.ajaxSetup({cache:!1}),Wui.id=function(){return void 0===Wui.idCounter&&(Wui.idCounter=0),"wui-"+Wui.idCounter++},Wui.getKeys=function(e){var i=[];return e&&t.each(e,function(t){i.push(t)}),i.sort()},Wui.scrollbarWidth=function(){var e,i,s;return void 0===s&&(e=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),i=e.children(),s=i.innerWidth()-i.height(99).innerWidth(),e.remove()),s},Wui.isPercent=function(){return arguments[0]&&arguments[0].indexOf&&-1!=arguments[0].indexOf("%")},Wui.percentToPixels=function(i,s,n){var o=i.parent(),r=o[0]===t(e)[0]||o[0]===t("html")[0]||o[0]===t("body")[0],a=r?"height"==n?t.viewportH():t.viewportW():o[n]();return Math.floor(parseFloat(s)/100*a)},Wui.randNum=function(t,e){return e=e-t+1,t+Math.floor(Math.random()*e)},Wui.maxZ=function(){var e=t("body *"),i=e.length<2500?e:t('body > *, [style*="z-index"]');return topZ=Math.max.apply(null,t.map(i,function(e){return"static"!=t(e).css("position")?parseInt(t(e).css("z-index"))||0:void 0})),(t.isNumeric(topZ)?topZ:0)+1},Wui.unwrapData=function(t){var e=this,i=e.hasOwnProperty("dataContainer")?e.dataContainer:Wui.Data.prototype.dataContainer,s=e.hasOwnProperty("totalContainer")?e.totalContainer:Wui.Data.prototype.totalContainer,n=i&&t[i]?t[i]:t,o=s&&t[s]?t[s]:n.length;return{data:n,total:o}},Wui.positionItem=function(e,i){var s=e.offset(),n=i.outerWidth(),o=i.outerHeight(),r=function(){var i=s.top+e.outerHeight()+o<t.viewportH();return!i&&s.top-o<0?(o=s.top-5,i=s.top+e.outerHeight()+o<t.viewportH()):o="",i}(),a=s.left+e.outerWidth()-n>0,l=function(){var i="absolute";return e.add(e.parents()).each(function(){"fixed"===t(this).css("position")&&(i="fixed")}),i}();i.css({left:a?s.left+e.outerWidth()-n:s.left,top:r?s.top+e.outerHeight():s.top-(t.isNumeric(o)?o:i.outerHeight()),height:o,position:l,zIndex:Wui.maxZ()})},Wui.cssCheck=function(t){for(var e=0,i=t.split("-"),s="";e<i.length;e++)s+=i[e].charAt(0).toUpperCase()+i[e].slice(1);for(var n=0,o=document.createElement("detect"),r=s.charAt(0).toLowerCase()+s.slice(1),a="Webkit Moz O ms".split(" "),l="-webkit- -moz- -o- -ms-".split(" "),h=(t+" "+r+" "+a.join(s+" ")+s).split(" "),c=!1;n<h.length;n++)if(""===o.style[h[n]]){c=h[n];break}if(!c)return!1;switch(n){case 0:case 1:return t;default:return l[n-2]+t}},Wui.fit=function(e,i){if(e instanceof Array&&e.length>0){var s=0,n=e[0].parent?e[0].parent:e[0].el.parent(),o=n.el?n.elAlias||n.el:n,r="width"==i?"row":"column";if(i="row"==r?"width":"height",o.css("display",Wui.cssCheck("flex")).css(Wui.cssCheck("flex-direction"),r),t.each(e,function(e,n){t.isNumeric(n.fit)&&n.fit>=0?(s+=n.fit,n[i]=-1):n[i]?delete n.fit:s+=n.fit=1}),0===s){var a=e[e.length-1];s+=a.fit=1,a[i]=-1}t.each(e,function(e,s){s.fit?t(s.el).css(Wui.cssCheck("flex"),s.fit+" auto"):void 0===s.cssByParam&&(t(s.el).css(i,s[i]),t(s.el).css(Wui.cssCheck("flex"),""))})}else console.log("Improper collection specified",arguments)},Wui.O=function(e){t.extend(this,{hidden:!1},e)},Wui.O.prototype={addToDOM:function(e,i,s){var n=void 0!==e.appendTo?e.appendTo:void 0!==e.prependTo?e.prependTo:void 0!==i&&null!==i?i:void 0!==e.parent&&void 0!==e.parent.elAlias?e.parent.elAlias:void 0!==e.parent&&void 0!==e.parent.el?e.parent.el:t("body"),o=void 0!==e.appendTo?"append":void 0!==e.prependTo?"prepend":void 0!==s&&n[s]?s:"append";try{t(n)[o](e.el)}catch(r){try{t(n)[o](e)}catch(r){}}return this.cssByParam(e),this.afterRender&&this.afterRender(),!0},afterRender:function(){this.each(function(t){t.afterRender&&t.afterRender()})},append:function(){var e=this,i=e.elAlias||e.el;t.each(arguments,function(t,e){i.append(e)})},clear:function(){var t=this,e=t.elAlias||t.el;e.children().remove()},callRender:function(){var t=this;t.onRender&&t.onRender(),t.each(function(t){t.callRender&&t.callRender()}),t.afterRender&&t.afterRender(),t.layoutKids()},applyAttr:function(e,i){var s="string"==typeof i||"number"==typeof i;return s&&t(this.el).attr(e,i),s},argsByParam:function(){var t=this;t.applyAttr("id",t.id),t.applyAttr("name",t.name),t.applyAttr("tabindex",t.tabIndex),t.applyAttr("lang",t.lang),t.applyAttr("title",t.titleAttr)},cssByParam:function(e){if(e=e||this,e.el&&e.el.addClass){e.argsByParam&&e.argsByParam();try{e.attr&&"object"==typeof e.attr&&e.el.attr(e.attr)}catch(i){}return t.isNumeric(e.height)&&e.height>=0&&e.el.css({height:e.height}),t.isNumeric(e.width)&&e.width>=0&&e.el.css({width:e.width}),Wui.isPercent(e.width)&&(a=Wui.percentToPixels(e.el,e.width,"width"),0!=a&&e.el.css({width:a})),Wui.isPercent(e.height)&&(a=Wui.percentToPixels(e.el,e.height,"height"),0!=a&&e.el.css({height:a})),e.hidden&&e.el.css("display","none"),e.el.addClass(e.cls)}return e},each:function(t,e){e="undefined"==typeof e?!0:e;var i=e?0:this.items.length-1;if(this.items)if(e)for(i;i<this.items.length&&t(this.items[i],i)!==!1;i++);else for(i;i>=0&&t(this.items[i],i)!==!1;i--);return!0},hide:function(){var e=["fadeOut"];return t.each(arguments,function(t,i){e.push(i)}),this.hidden=!0,this.showHide.apply(this,e)},index:function(){var t=this,e=void 0;return t.parent&&t.parent.each(function(i,s){i===t&&(e=s)}),e},layout:function(t){this.cssByParam(this),this.layoutKids(),t&&"function"==typeof t&&t()},layoutKids:function(){var t=this,e=!1;t.each(function(t){return t.fit?(e=!0,!1):void 0}),(t.fitDimension||e)&&Wui.fit(t.items,t.fitDimension||void 0),t.each(function(t){t.layout&&t.layout()})},move:function(e){var i=this,s=i.index();e=t.isNumeric(e)?e:0,void 0!==s&&(i=Array.prototype.splice.call(i.parent.items,s,1)[0],Array.prototype.splice.call(i.parent.items,e,0,i),0===e?i.parent.items[1].el.before(i.el):e>i.parent.items.length?i.parent.items[i.parent.items.length-2].el.after(i.el):i.parent.items[e-1].el.after(i.el))},place:function(t){var e=this;return void 0===e.items&&(e.items=[]),e.each(function(t){t.parent=e,t.place?t.place():e.addToDOM(t)}),e.addToDOM(e),t&&"function"==typeof t&&t(e),void 0===e.parent&&e.callRender(),e},push:function(){var e=this;return void 0===e.items&&(e.items=[]),t.each(arguments,function(t,i){i.parent=e,i.place?i.place():e.addToDOM(i),i.onRender&&i.onRender(),i.layout&&i.layout()}),Array.prototype.push.apply(e.items,arguments)},remove:function(){var t=this,e=null;t.parent&&(t.parent.each(function(i,s){i===t&&(e=s)},!1),null!==e&&t.parent.splice(e,1)),this.el.remove(),delete this},show:function(){var e=["fadeIn"];return t.each(arguments,function(t,i){e.push(i)}),this.hidden=!1,this.showHide.apply(this,e)},showHide:function(t,e,i){return e="number"==typeof e?e:1,"function"==typeof arguments[1]&&(i=arguments[0]),this.el[t](e,i)},splice:function(t,e){function i(t){t.parent=s,t.onRender&&t.onRender(),t.layout&&t.layout()}var s=this,n=s.elAlias||s.el;t=parseInt(t),void 0===s.items&&(s.items=[]);for(var o=t;t+e>o;o++)s.items[o]&&s.items[o].el&&s.items[o].el.remove();var r=Array.prototype.splice.apply(s.items,arguments),a=arguments.length-2;if(s.items.length==a)for(o=0;o<s.items.length;o++)s.addToDOM(s.items[o],n),i(s.items[o]);else if(void 0===s.items[t+a])for(o=t;o<s.items.length;o++)s.addToDOM(s.items[o],s.items[o-1].el,"after"),i(s.items[o]);else if(0!==a)for(o=t+a;o>0;o--)s.addToDOM(s.items[o-1],s.items[o].el,"before"),i(s.items[o-1]);return r}},Wui.Data=function(e){t.extend(this,{data:[],identity:null,name:null,params:{},url:null,ajaxConfig:{},total:0},e)},Wui.Data.prototype={dataContainer:null,totalContainer:null,dataChanged:function(){},dataEach:function(t){for(var e=0;e<this.data.length&&t(this.data[e],e)!==!1;e++);return!0},loadData:function(){var e=this,i=t.extend({data:e.params,dataType:"json",success:function(){e.success.apply(e,arguments)},error:function(){e.failure.apply(e,arguments)}},e.ajaxConfig),s=e.setParams.apply(e,arguments),n=e.beforeLoad.apply(e,arguments);return s!==!1&&n!==!1?(e.lastRequest&&4!=e.lastRequest.readyState&&e.lastRequest.abort(),e.lastRequest=t.ajax(e.url,i)):t.Deferred().reject()},setParams:function(e){e&&"object"==typeof e&&t.extend(this.params,e)},setData:function(e,i){var s=this;s.beforeSet(e),s.data=s.processData(e),s.total=t.isNumeric(i)?i:s.data?s.data.length:0,s.fireDataChanged()},fireDataChanged:function(){var e=this,i=e.name||"wui-data";e.dataChanged(e.data),t(document).trigger(t.Event("datachanged."+i),[i,e]).trigger(t.Event("datachanged"),[i,e]),e.afterSet(e.data)},beforeLoad:function(){},afterSet:function(){},beforeSet:function(){},success:function(t){var e=this,i=Wui.unwrapData.call(e,t);e.onSuccess(t),e.setData(i.data,i.total)},onSuccess:function(){},onFailure:function(){},failure:function(t){this.onFailure(t)},processData:function(t){return t},push:function(){var t=Array.prototype.push.apply(this.data,arguments);return this.total=this.data.length,this.fireDataChanged(),t},splice:function(){var t=Array.prototype.splice.apply(this.data,arguments);return this.total=this.data.length,this.fireDataChanged(),t}},Wui.Template=function(e){t.extend(this,e)},Wui.Template.prototype={template:null,data:null,make:function(e){var i=this;if(i.data&&i.template){var s=i.template;return t.isNumeric(e)&&t.extend(i.data,{wuiIndex:e}),t(s.replace(/\{(\w*)\}/g,function(t,e){return void 0!==i.data[e]?i.data[e]:""}).replace(/\{\((.*?)\)\}/g,function(t,e){var s=Wui.getKeys(i.data),n=[],o=0;for(o=s.length-1;o>=0;o--)s[o].match(/\b\d+/g)&&s.splice(o,1);for(o=0;o<s.length;o++)n.push(i.data[s[o]]);s.push("return "+e);var r=Function.apply(null,s);return r.apply(null,n)}))}throw new Error("Wui.js - Template engine missing data and/or template.")}},Wui.DataList=function(e){t.extend(this,{afterMake:function(){},autoLoad:!0,displayMax:-1,el:t("<div>"),focusOnSelect:!0,init:function(){},multiSelect:!1,selected:[]},e),this.init()},Wui.DataList.prototype=t.extend(new Wui.O,new Wui.Template,new Wui.Data,{dataChanged:function(){this.make()},clearSelect:function(){var e=this,i=e.name?"."+e.name:"",s=e.elAlias||e.el;s.find(".wui-selected").removeClass("wui-selected"),e.selected=[],e.el.trigger(t.Event("wuichange"+i),[e,e.el,{},e.selected]).trigger(t.Event("wuichange"),[e,e.el,{},e.selected])},itemSelect:function(e,i){var s=this,n=s.name?"."+s.name:"";if(o=[],s.selected.length>0&&!s.multiSelect&&!i){var o=t.extend(!0,[],s.selected);s.el.trigger(t.Event("wuideselect"),[s,o[0].el,o[0].rec,o])}return s.el.find(".wui-selected").removeClass("wui-selected").removeAttr("tabindex"),e.el.addClass("wui-selected").attr("tabindex",1),s.focusOnSelect&&e.el.focus(),s.selected=[e],s.multiSelect||i||s.el.trigger(t.Event("wuiselect"+n),[s,e.el,e.rec]).trigger(t.Event("wuichange"+n),[s,e.el,e.rec,s.selected]).trigger(t.Event("wuiselect"),[s,e.el,e.rec]).trigger(t.Event("wuichange"),[s,e.el,e.rec,s.selected]),e},itemDeselect:function(e){var i=this,s=i.name?"."+i.name:"";return i.selected.length>0&&e.el.removeClass("wui-selected"),i.selected=[],i.el.trigger(t.Event("wuideselect"+s),[i,e.el,e.rec]).trigger(t.Event("wuichange"+s),[i,e.el,e.rec,i.selected]).trigger(t.Event("wuideselect"),[i,e.el,e.rec]).trigger(t.Event("wuichange"),[i,e.el,e.rec,i.selected]),e},createItem:function(e){function i(i,s){if(n.multiSelect&&(i.metaKey||i.ctrlKey||i.shiftKey)){var o=t(s).hasClass("wui-selected");if(i.shiftKey){var r=n.selectByEl(n.el.find("tr.wui-selected:first")),l=n.getItemByEl(t(s)),h=r.rec.wuiIndex<l.rec.wuiIndex?1:-1,c=h>0?r:l,u=h>0?l:r,d=[];n.selected=d=n.items.slice(c.rec.wuiIndex,u.rec.wuiIndex+1),t("wui-selected").removeClass("wui-selected"),d.forEach(function(t){t.el.addClass("wui-selected")})}else t(s).toggleClass("wui-selected",!o),o?t.each(n.selected||[],function(t,i){i==e&&n.selected.splice(t,1)}):n.selected.push(e);n.el.trigger(t.Event("wuichange"+a),[n,e.el,e.rec,n.selected]).trigger(t.Event("wuichange"),[n,e.el,e.rec,n.selected])}else n.selected.length>0&&n.selected[0]===e?n.itemDeselect(e):n.itemSelect(e)}function s(){return n.itemSelect(e,!0),n.el.trigger(t.Event("wuichange"+a),[n,e.el,e.rec,n.selected]).trigger(t.Event("wuidblclick"+a),[n,e.el,e.rec]).trigger(t.Event("wuichange"),[n,e.el,e.rec,n.selected]).trigger(t.Event("wuidblclick"),[n,e.el,e.rec]),!1}var n=this,o=0,r=null,a=n.name?"."+n.name:"";return e.el.on("click",function(t){var e=null,n=this;return o++,1===o?r=setTimeout(function(){e=i(t,n),o=0},350):(clearTimeout(r),e=s(t,n),o=0),e}).on("dblclick",function(t){t.preventDefault()}),n.modifyItem(e)},modifyItem:function(t){return t.el},make:function(){var e=this,i=e.data||[],s=t("<div>"),n=e.name?"."+e.name:"";e.items=[];for(var o=0;e.displayMax<0&&o<i.length||e.displayMax>0&&o<e.displayMax&&o<i.length;o++){var r=e.data=i[o],a={el:Wui.Template.prototype.make.call(e,o),rec:r};Array.prototype.push.call(e.items,a),s.append(e.createItem(a))}e.clear(),e.append(s.children().unwrap()),e.data=i,e.autoLoad=!0,e.afterMake(),e.el.trigger(t.Event("refresh"+n),[e,e.data]).trigger(t.Event("refresh"),[e,e.data]),e.resetSelect()},onRender:function(){var e=this;e.onRendered!==!0&&(e.autoLoad&&(null===this.url?e.make():e.loadData()),t(document).on("keyup",function(t){e.selected&&e.selected[0]&&document.activeElement==e.selected[0].el[0]&&((13==t.keyCode||32==t.keyCode)&&(e.selected[0].el.click(),e.selected[0].el.click()),38==t.keyCode&&e.selectAjacent(-1),40==t.keyCode&&e.selectAjacent(1))}),e.onRendered=!0)},getItemByEl:function(t){var e=this,i=void 0;return e.each(function(e){e.el[0]==t[0]&&(i=e)}),i},refresh:function(){this.onRender()},copyArryRecs:function(e){var i=[];return e.forEach(function(e){var s={};t.each(e.rec,function(t,e){s[t]=e}),i.push(s)}),i},resetSelect:function(){var t=this,e=t.copyArryRecs(t.selected);e.length&&(t.selected=[],e.forEach(function(e){Wui.O.prototype.each.call(t,function(i){var s=t.identity?i.rec[t.identity]===e[t.identity]:JSON.stringify(i.rec)===JSON.stringify(e);s&&(t.multiSelect?(i.el.addClass("wui-selected"),t.selected.push(i,!0)):t.itemSelect(i))})}),t.scrollToCurrent())},scrollToCurrent:function(){var e=this,i=e.elAlias||e.el,s=i.find(".wui-selected:first"),n=s.offsetParent(),o=function(){var i=0;return s.prevAll().each(function(){i+=t(this).outerHeight()}),i-=(e.elAlias||e.el).height()/2-s.outerHeight()/2}();n.animate({scrollTop:o},100)},selectAjacent:function(t){var e=this,i=e.selected[0].el[t>0?"next":"prev"]();return e.selectByEl(i,!1)},selectBy:function(t,e){var i=this,s=void 0;return i.each(function(n){return void 0!==n.rec[t]&&n.rec[t]==e?s=i.itemSelect(n):void 0}),i.scrollToCurrent(),s},selectByEl:function(t,e){var i=this,s=void 0;return i.itemSelect(s=i.getItemByEl(t)),e!==!1&&i.scrollToCurrent(),s}}),Wui.Button=function(e){t.extend(this,{el:t("<button>").attr({unselectable:"on"}),disabled:!1,toolTip:null,tabIndex:0,text:"Button"},e),this.init()},Wui.Button.prototype=t.extend(new Wui.O,{click:function(){},init:function(){function e(){return i.disabled||(Array.prototype.push.call(arguments,i),i.click.apply(i,arguments),i.el.trigger(t.Event("wuibtnclick"+s),[i]).trigger(t.Event("wuibtnclick"),[i])),!1}var i=this,s=i.name?"."+i.name:"";i.el.addClass("wui-btn").click(e).keypress(function(t){return(13==t.keyCode||32==t.keyCode)&&e(t),!1}).html(i.text).attr({title:i.toolTip,tabindex:i.tabIndex}),i.disabled&&i.disable()},disable:function(){this.disabled=!0,this.el.toggleClass("disabled",this.disabled).attr("disabled",!0).removeAttr("tabindex")},enable:function(){this.disabled=!1,this.el.toggleClass("disabled",this.disabled).removeAttr("disabled").attr({tabindex:this.tabIndex})},setText:function(t){return this.el.html(t)}}),Wui.Pane=function(e){t.extend(this,{bbar:[],border:!0,tbar:[],disabled:!1,fitToContent:!1,titleAlign:"left",height:"100%",maskHTML:"Empty",maxHeight:null,title:null},e),this.init()},Wui.Pane.prototype=t.extend(new Wui.O,{addMask:function(e){return e=e?e:this.container.parent(),0===e.children("wui-mask").length?this.mask=t("<div>").addClass("wui-mask").html(this.maskHTML).appendTo(e):null},afterRender:function(){function t(){e.layoutInterval===!1&&(e.parent||e instanceof Wui.Window||e.layout(),e.layoutInterval=!0,setTimeout(function(){e.layoutInterval=!1},100))}var e=this;e.layoutInterval=!1,document.addEventListener("animationstart",t,!1),document.addEventListener("MSAnimationStart",t,!1),document.addEventListener("webkitAnimationStart",t,!1),e.disabled&&e.disable(),e.configBar("header"),e.configBar("footer"),Wui.O.prototype.afterRender.call(this)},borderStyle:{borderWidth:6},configBar:function(t){var e=this,i=e[t],s="header"==t,n=s?"Top":"Bottom",o=function(){var t=s&&null!==e.title?1:0;return i.items.forEach(function(e){e instanceof Wui.O&&t++}),t>0}(),r=o?i.el.css("height"):0,a=o?0:void 0;e.parent&&e.parent instanceof Wui.Tabs&&(s&&e.tabsHideHeader&&!e.parent.tabsBottom||e.tabsBottom&&!o)&&(a=6),e.sureEl.css("border"+n+"Width",a).children(".wui-pane-wrap").css("padding"+n,r),o?(i.place(),i.callRender(),s?(e.setTitle(e.title),this.setTitleAlign()):!e.disabled&&i.items[i.items.length-1].el&&i.items[i.items.length-1].el.focus()):i.el.detach(),e.updateBorder()},disable:function(){return this.addMask(),this.footer.each(function(t){t.disable&&t.disable()
}),this.header.each(function(t){t.disable&&t.disable()}),this.disabled=!0},enable:function(){var t=this;return t.removeMask(),t.footer.each(function(t){t.enable&&t.enable()}),t.header.each(function(t){t.enable&&t.enable()}),t.disabled=!1},init:function(e){var i=e||this;i.el=t("<div>").addClass("wui-pane").append(t("<div>").addClass("wui-pane-wrap").append(i.container=t("<div>").addClass("wui-pane-content"))),i.sureEl=i.el,i.border&&i.el.css(i.borderStyle),i.header=new Wui.O({el:t('<div><span></span><div class="wui-h-cntnt"></div></div>'),cls:"wui-pane-header wui-pane-bar",items:i.tbar,parent:i,appendTo:i.el,splice:function(){Wui.O.prototype.splice.apply(this,arguments),i.configBar("header")},push:function(){Wui.O.prototype.push.apply(this,arguments),i.configBar("header")}}),i.header.elAlias=i.header.el.children(".wui-h-cntnt"),i.header.title=i.header.el.children("span:first"),i.footer=new Wui.O({el:t("<div>"),cls:"wui-pane-footer wui-pane-bar",items:i.bbar,parent:i,appendTo:i.el,splice:function(){Wui.O.prototype.splice.apply(this,arguments),i.configBar("footer")},push:function(){Wui.O.prototype.push.apply(this,arguments),i.configBar("footer")}}),i.elAlias=i.container},layout:function(){if(Wui.O.prototype.layout.apply(this,arguments),this.fitToContent===!0){var e=this,i=e.header.el.outerHeight()+e.footer.el.outerHeight(),s=t.isNumeric(e.maxHeight)?e.maxHeight:0,n=0;e.container.children().each(function(){n+=t(this).outerHeight()}),n=s>0&&n+i>s?s:n,e.height=n+i,Wui.O.prototype.layout.apply(e,arguments)}},removeMask:function(){var t=this,e=t.mask||t.el.find(".wui-mask");e&&e.fadeOut(250,function(){t.mask=void 0,t.el.find(".wui-mask").remove()})},setMaskHTML:function(t){this.maskHTML=t,this.mask&&this.mask.html(t)},setTitle:function(t){return this.title=t,t=t&&"string"==typeof t?t:"",this.header.title.html(t),this.title},setTitleAlign:function(t){var e=this;e.titleAlign=t||e.titleAlign,e.header.title.removeClass("right,left,center").addClass("wui-h-title "+e.titleAlign);var i="right"===e.titleAlign?"left":"right";e.header.elAlias.css("text-align",i)},updateBorder:function(t){var e=this;t?e.el.css(e.borderStyle=t):e.border&&e.hasOwnProperty("borderStyle")&&e.el.css(e.borderStyle)}}),Wui.Window=function(e){t.extend(this,{bbar:[],border:!1,isModal:!1,onWinClose:function(){},onWinOpen:function(){},tbar:[],title:"Window",maskHTML:'Loading <span class="wui-spinner"></span>',resizable:!0,draggable:!0,windowLeft:null,windowTop:null},e),this.init()},Wui.Window.prototype=t.extend(new Wui.Pane,{close:function(){var e=this,i=e.name?"."+e.name:"";e.onWinClose(e)!==!1&&(e.windowEl.trigger(t.Event("close"+i),[e]).trigger(t.Event("close"),[e]),e.remove())},disable:function(){Wui.Pane.prototype.disable.call(this),this.closeBtn&&this.closeBtn.enable()},init:function(){function e(t){t.stopPropagation()}function i(){var t=Wui.maxZ();parseInt(s.el.css("z-index")||1)<=t&&s.el.css("z-index",t)}var s=this,n=s.name?"."+s.name:"";s.appendTo=t("body"),s.isModal&&(s.modalEl=t("<div>").addClass("wui-overlay"),t("body").append(s.appendTo=s.modalEl.css("z-index",Wui.maxZ()).on("mousewheel",e))),s.tbar.push(s.closeBtn=new Wui.Button({click:function(){s.close()},text:"X"})),0===s.bbar.length&&(s.bbar=[new Wui.Button({click:function(){s.close()},text:"Close"})]),Wui.Pane.prototype.init(s),s.windowEl=s.el.addClass("wui-window").css("z-index",Wui.maxZ()).click(i).on("mousewheel",e),s.draggable===!0&&s.windowEl.draggable({handle:s.header.el,start:i}),s.resizable===!0&&s.windowEl.resizable({minWidth:s.minWidth||s.width,minHeight:s.minHeight||s.height,resize:function(){s.fireResize()}}),s.place(),s.isModal&&(s.el=s.modalEl),s.onWinOpen(s),s.windowEl.trigger(t.Event("open"+n),[s]).trigger(t.Event("open"),[s]),s.resize()},fireResize:function(){var e=this,i=e.name?"."+e.name:"";return e.container.trigger(t.Event("resize"+i),[e.container.width(),e.container.height()]).trigger(t.Event("resize"),[e.container.width(),e.container.height()]),e.layoutKids()},resize:function(e,i){var s=this;Wui.isPercent(e)&&(e=Wui.percentToPixels(s.windowEl,e,"width")),Wui.isPercent(i)&&(i=Wui.percentToPixels(s.windowEl,i,"height"));var n=s.container[0].scrollHeight,o=s.container.height(),r=s.header&&t.isNumeric(s.header.el.outerHeight())?s.header.el.outerHeight():0,a=s.footer&&t.isNumeric(s.footer.el.outerHeight())?s.footer.el.outerHeight():0,l=r+a,h=arguments.length?i:n+l>=t.viewportH()?t.viewportH()-10:n>=o&&!s.hasOwnProperty("height")?n+l:Wui.isPercent(s.height)?Wui.percentToPixels(s.windowEl,s.height,"height"):s.height;s.windowEl.css({height:h,width:arguments.length?e:void 0});var c=s.windowLeft?t.isNumeric(s.windowLeft)?s.windowLeft:Wui.percentToPixels(t("html"),s.windowLeft,"width"):Math.floor(t.viewportW()/2-s.windowEl.width()/2),u=s.windowTop?t.isNumeric(s.windowTop)?s.windowTop:Wui.percentToPixels(t("html"),s.windowTop,"height"):Math.floor(t.viewportH()/2-h/2);return s.windowEl.css({top:u,left:c}),s.fireResize(),{width:s.windowEl.outerWidth(),height:s.windowEl.outerHeight()}},cssByParam:function(){Wui.O.prototype.cssByParam.apply(this,arguments),this.isModal&&this.modalEl.css({width:"",height:""}),this.windowEl&&this.resize()},height:200,width:600}),Wui.msg=function(e,i,s,n){var o=[new Wui.O({el:t("<div>").addClass("wui-msg").html(e)})];"undefined"!=typeof n&&("function"==typeof n.push?o.push.apply(o,n):o.push(n));var r=new Wui.Window({title:i||"Message",isModal:!0,items:o,width:350,onWinClose:s||function(){}});return r},Wui.errRpt=function(e,i,s,n){var o=Wui.msg(e,i,n);return t.isArray(s)&&o.footer.push.apply(o.footer,s),o.container.find(".wui-msg").addClass("wui-err"),o.resize(),o},Wui.confirm=function(t,e,i){var s=Wui.msg.apply(this,arguments);return s.doAnswer=function(t){i&&"function"==typeof i&&i(t),s.answerRun=!0,s.close()},s.onWinClose=function(){return s.answerRun!==!0?!1:s.answerRun},s.footer.splice(0,1,new Wui.Button({text:"No",click:function(){s.doAnswer(!1)}}),new Wui.Button({text:"Yes",click:function(){s.doAnswer(!0)}})),s.header.splice(0,1),s.resize(),s}}(jQuery,this),function($,Wui){Wui.Grid=function(t){$.extend(this,{bbar:[],columns:[],colUrl:null,colParams:{},colDataParams:{},data:null,defaultDataType:"string",multiSelect:!1,hideHeader:!1,selected:[],sort:[],tbar:[]},t),this.init()},Wui.Grid.prototype=$.extend(new Wui.DataList,new Wui.Pane,{afterMake:function(){this.layout(),this.removeMask()},closeSorter:function(){this.dd.children("li").off("click").end().hide()},doSort:function(t,e,i){var s=this;if(s.sorters.length>0){var n=s.sorters[t],o=e.rec[n.dataItem],r=i.rec[n.dataItem],a="asc"==n.sortDir?1:-1,l=0;switch(n.dataType){case"date":o=new Date(o),r=new Date(r),l=o.getTime()==r.getTime()?0:o.getTime()>r.getTime()?1:-1;break;case"numeric":o=parseFloat(o)?parseFloat(o):0,r=parseFloat(r)?parseFloat(r):0,l=o==r?0:o>r?1:-1;break;default:l=$.trim(o).toUpperCase().localeCompare($.trim(r).toUpperCase())}return 0!==l||void 0===s.sorters[t+1]?l*a:s.doSort(t+1,e,i)}return e.rec.wuiIndex>i.rec.wuiIndex?1:-1},getColumns:function(){var t=this;if(t.colUrl&&t.colUrl.length)t.colProxy=new Wui.Data($.extend({url:t.colUrl,params:t.colParams,afterSet:function(e){t.setColumns(e)}},t.colDataParams)),t.colProxy.loadData();else if(t.columns.length)return t.setColumns(t.columns)},init:function(){var t=this;Wui.Pane.prototype.init.call(t),t.el.addClass("wui-grid"),t.tblContainer=$("<div><table></table></div>").addClass("grid-body").appendTo(t.elAlias),t.headingContainer=$("<div><ul></ul></div>").addClass("wui-gh").appendTo(t.elAlias),t.elAlias=t.tbl=t.tblContainer.children("table"),t.heading=t.headingContainer.children("ul"),t.cols=[],t.sorters=[],$("body").append(t.dd=$("<ul><li>Ascending</li><li>Decending</li><li>No Sort</li><ul>").addClass("wui-sort-menu").attr({id:t.idCls=Wui.id()}).on("mousewheel scroll",function(t){t.stopPropagation()})),$(document).on("click","*:not(#"+t.idCls+")",function(){t.closeSorter()}),t.hideHeader&&t.headingContainer.height(0)},layout:function(){if(Wui.O.prototype.layout.apply(this,arguments),this.fitToContent===!0){var t=this,e=t.header.el.outerHeight()+t.footer.el.outerHeight(),i=$.isNumeric(t.maxHeight)?t.maxHeight:0,s=t.headingContainer.outerHeight();t.tblContainer.children().each(function(){s+=$(this).outerHeight()}),s=i>0&&s+e>i?i:s,t.height=s+e,Wui.O.prototype.layout.apply(t,arguments)}this.posDataWin(),this.cols.length&&this.sizeCols()},loadData:function(){return this.setMaskHTML('Loading <span class="wui-spinner"></span>'),this.addMask(),Wui.Data.prototype.loadData.apply(this,arguments)},mngSorters:function(t,e){var i=this,s=["one","two","three","four","five"];if(void 0!==t)if(void 0!==e){var n=!0;for(o=i.sorters.length;o>0;o--)i.sorters[o-1].dataItem==t.dataItem&&(n=!1);t.sortDir=e,n&&i.sorters.push(t)}else if(t.sortDir)if("desc"==t.sortDir){delete t.sortDir,t.el.removeClass().addClass("wui-gc").addClass(t.cls);for(var o=i.sorters.length;o>0;o--)i.sorters[o-1].el==t.el&&i.sorters.splice(o-1,1)}else t.sortDir="desc";else{if(i.sorters.length>5)return t.el.removeClass().addClass("wui-gc").addClass(t.cls),!1;t.sortDir="asc",i.sorters.push(t)}$.each(i.sorters,function(t,e){e.el.removeClass().addClass("wui-gc "+s[t]+" "+e.sortDir).addClass(e.cls)})},modifyItem:function(t){var e=this;return $.each(e.renderers,function(i,s){var n=t.el.children(":eq("+s.index+")").children("div"),o=t.rec[s.dataItem];n.empty().append(s.renderer.call(null,n,o,t.rec,t.el,e))}),t.el},onRender:function(){var t=this,e=t.autoLoad;return t.autoLoad=!1,Wui.DataList.prototype.onRender.call(this),t.autoLoad=e,this.getColumns()},posDataWin:function(){var t=this.headingContainer.height()-1;this.tblContainer.css({height:this.container.height()-t,top:t})},configBar:function(){Wui.Pane.prototype.configBar.apply(this,arguments),this.posDataWin()},refresh:function(){return null!==this.url?this.getColumns():void this.setData(this.data)},renderColumn:function(col,idx){var me=this;$.extend(col,{dataType:col.dataType||me.defaultDataType,fit:void 0===col.fit?void 0===col.width?1:-1:col.fit,cls:col.cls||"",renderer:col.renderer?function(a){"function"!=typeof a&&"function"==eval("typeof "+a)&&(a=new Function("return "+a+".apply(this,arguments)")),"function"==typeof a&&me.renderers.push({dataItem:col.dataItem,renderer:a,index:idx})}(col.renderer):"",index:idx,resizable:"undefined"==typeof col.resizable?!0:col.resizable,sortable:"undefined"==typeof col.sortable?!0:col.sortable,width:void 0===col.width?0:col.width,el:$("<li>").append($("<div>").text(col.heading)).attr({unselectable:"on"}).addClass("wui-gc").addClass(col.cls)}),col.sortable?(col.el.on("contextmenu",function(t){t.preventDefault(),Wui.positionItem($(this),me.dd),$("body").append(me.dd.width(100).show()),Wui.positionItem($(this),me.dd),me.dd.children("li").on("click",function(){var t={Ascending:function(){me.mngSorters(col,"asc")},Decending:function(){me.mngSorters(col,"desc")},"No Sort":function(){col.sortDir="desc",me.mngSorters(col)}};t[$(this).text()](),me.closeSorter(),me.runSort()})}),col.el.click(function(){me.sortList(col)})):col.el.addClass("wui-no-sort"),me.columns.length>1&&!col.vertical&&col.resizable&&col.el.resizable({handles:"e",start:function(){me.tempLayout=me.layout,me.layout=function(){}},stop:function(){me.sizeCols(),me.layout=me.tempLayout},resize:function(t,e){col.width=e.size.width,col.fit=-1,Wui.fit(me.cols,"width")}}),me.cols.push(col),me.heading.append(col.el)},runSort:function(){var t=this,e=t.items;e.sort(function(e,i){return t.doSort(0,e,i)}),t.tbl.detach(),$.each(e,function(e,i){i.el.appendTo(t.tbl)}),t.tbl.appendTo(t.tblContainer),t.sizeCols()},push:function(){var t=Wui.Data.prototype.push.apply(this,arguments);return this.sizeCols(),t},splice:function(){var t=Wui.Data.prototype.splice.apply(this,arguments);return this.sizeCols(),t},setColumns:function(t){var e=this;if(e.columns=t,e.heading.empty(),e.cols=[],e.items=[],e.renderers=[],e.template="<tr>",$.each(t,function(t,i){var s=i.dataTemplate?i.dataTemplate:i.dataItem?"{"+i.dataItem+"}":"";e.template+="<td><div>"+s+"</div></td>",i.vertical&&(e.el.addClass("has-vert-columns"),i.cls?i.cls+=" vert-col":i.cls="vert-col",i.width=50,delete i.fit),e.renderColumn(i,t)}),e.template+="</tr>",e.sorters&&e.sorters.length&&e.cols.length)for(var i=e.sorters.length-1;i>=0;i--){for(var s=!0,n=0;n<e.cols.length;n++)if(e.cols[n].dataItem==e.sorters[i].dataItem){e.sorters[i].el=e.cols[n].el,e.cols[n].sortDir=e.sorters[i].sortDir,s=!1;break}s&&e.sorters.splice(i,1)}return e.getSrcData()},getSrcData:function(){var t=this;if(t.autoLoad){if(null!==t.url)return t.loadData();t.setData(t.data)}},setData:function(){var t=this,e=null,i=null;if(Wui.DataList.prototype.setData.apply(t,arguments),t.sort.length&&!t.sorters.length)for(e=0;e<t.sort.length;e++)for(i=0;i<t.cols.length;i++)t.cols[i].dataItem==t.sort[e].dataItem&&t.mngSorters(t.cols[i],t.sort[e].order);this.sortList()},sizeCols:function(){var t=this,e=t.headingContainer,i=t.tbl.find("tr:first").height()*t.total>t.tblContainer.height(),s=i?Wui.scrollbarWidth():0;e.css("padding-right",s),Wui.fit(t.cols,"width");for(var n=0;n<t.cols.length;n++)t.tbl.find("td:eq("+n+")").css({width:t.cols[n].el.innerWidth()});t.tbl.css({width:e.width(),tableLayout:"fixed"})},sortList:function(t){var e=this;e.mngSorters(t),e.runSort()}})}(jQuery,Wui),function(t,e,i){i.stateMachine=function(e){t.extend(this,{changeMethod:function(){}},e)},i.stateMachine.prototype={setState:function(t){var i=e.location.href.split("#"),s=i[0]+"#",n=s;return t&&"object"==typeof t?n=s+this.stringify(t):t&&"string"==typeof t&&(n=s+t),e.location=n},stringify:function(t){var e="";for(var s in t){var n=i.getKeys(t[s].params);e+=(s>0?"/":"")+t[s].view;for(var o=0;o<n.length;o++)e+=(o>0?"&":"?")+n[o]+"="+t[s].params[n[o]]}return e},getState:function(){var t=[];return e.location.hash.replace(/([^\/^#]+)/g,function(e){var i={};e=e.replace(/(\?|\&)([^=]+)\=([^&]*)/g,function(t,e,s,n){return i[s]=n,""}),t.push({view:e,params:i})}),t},getParam:function(t,e){var i=this.getState(),s=void 0;for(var n in i)if(i[n].view===t&&i[n].params[e])return i[n].params[e];return s},setParam:function(e,i,s){var n=this.getState();for(var o in n)if(n[o].view===e)return"string"==typeof i?n[o].params[i]=s:t.extend(n[o].params,i),this.setState(n),s;return void 0},changeView:function(t,e){var i=this.getState();for(var s in i)i[s].view===t&&(i[s].view=e);this.setState(i)},setView:function(t,e){var i=[{view:t}];e&&(i[0].params=e),this.setState(i)},addView:function(t,e){var i=this.getState(),e=e||{};for(var s in i)if(i[s].view===t)return i[s].params=e,this.setState(i),t;return i.push({view:t,params:e}),this.setState(i),t},clearView:function(t){var e=this.getState(),i=null;for(var s in e)if(e[s].view===t){i=e.splice(s,1);break}return this.setState(e),i},getViews:function(){for(var t=this.getState(),e=[],i=0;i<t.length;i++)e.push(t[i].view);return e},clearState:function(){this.setState()},addChangeMethod:function(i){var s=this,n=s.getState(),o=s.changeMethod;s.changeMethod=function(t){o(t),i(t)},t(e).off("hashchange").on("hashchange",function(){s.changeMethod.call(s,n)})},turnOff:function(){this.changeMethod=function(){},t(e).off("hashchange")}}}(jQuery,this,Wui),!function(t,e,i){"$:nomunge";function s(t){return t=t||location.href,"#"+t.replace(/^[^#]*#?(.*)$/,"$1")}var n,o="hashchange",r=document,a=t.event.special,l=r.documentMode,h="on"+o in e&&(l===i||l>7);t.fn[o]=function(t){return t?this.bind(o,t):this.trigger(o)},t.fn[o].delay=50,a[o]=t.extend(a[o],{setup:function(){return h?!1:void t(n.start)},teardown:function(){return h?!1:void t(n.stop)}}),n=function(){function n(){var i=s(),a=u(l);i!==l?(c(l=i,a),t(e).trigger(o)):a!==l&&(location.href=location.href.replace(/#.*/,"")+a),r=setTimeout(n,t.fn[o].delay)}var r,a={},l=s(),h=function(t){return t},c=h,u=h;return a.start=function(){r||n()},a.stop=function(){r&&clearTimeout(r),r=i},a}()}(jQuery,this),function(t,e){e.Form=function(e){t.extend(this,{disabled:!1,labelPosition:"top",labelSize:null},e,{formChanged:!1,el:t("<div>").addClass("wui-form"),errors:[]}),this.init()},e.Form.prototype=t.extend(new e.O,{clearData:function(){this.setData()},dispErrors:function(){for(var t="",i=0;i<this.errors.length;i++)t+=this.errors[i]+"<br/>";e.errRpt(t,"Form Errors")},each:function(t,i,s){return e.O.prototype.each.call(this,function(s,n){return!i||s instanceof e.FormField?t(s,n):void 0},s)},errCls:"wui-form-err",getData:function(){return this.validate()?this.getRawData():(this.dispErrors(),!1)},getField:function(t){var e=null;return this.each(function(i){i.name==t&&(e=i.val())}),e},getFrmItm:function(t){var e=void 0;return this.each(function(i){i.name==t&&(e=i)}),e},getRawData:function(){var t={};return this.each(function(e){t[e.name]=e.val()},!0),t},init:function(){},normFrmItem:function(i){var s=this;if(i.disabled&&i.disabled===!0||t.extend(i,{disabled:s.disabled}),i.hasOwnProperty("labelPosition")||t.extend(i,{labelPosition:s.labelPosition}),!i.ftype||i instanceof e.FormField)return i instanceof e.FormField?(i.lbl&&(i.labelSize=i.labelSize||s.labelSize,i.lbl.setLabelPosition(i.labelPosition||s.labelPosition),i.lbl.setLabelSize(i.labelSize||s.labelSize)),i):i;var n=i.ftype.split(".");switch(i.labelSize=i.labelSize||s.labelSize,n.length){case 1:if(window[n[0]])return new window[n[0]](i);throw"Object type "+i.ftype+" is not defined.";case 2:if(window[n[0]]&&window[n[0]][n[1]])return new window[n[0]][n[1]](i);throw"Object type "+i.ftype+" is not defined.";case 3:if(window[n[0]]&&window[n[0]][n[1]][n[2]])return new window[n[0]][n[1]][n[2]](i);throw"Object type "+i.ftype+" is not defined.";case 4:if(window[n[0]]&&window[n[0]][n[1]][n[2]][n[3]])return new window[n[0]][n[1]][n[2]][n[3]](i);throw"Object type "+i.ftype+" is not defined.";default:throw"Object type "+i.ftype+" is not defined."}},place:function(){var t=this;return void 0===t.items&&(t.items=[]),t.each(function(e,i){t.items[i]=t.normFrmItem(e)}),e.O.prototype.place.apply(this,arguments)},push:function(){var i=this,s=[];return t.each(arguments,function(t,e){s.push(i.normFrmItem(e))}),e.O.prototype.push.apply(this,s)},splice:function(){var i=this,s=[],n=Array.prototype.shift.apply(arguments),o=Array.prototype.shift.apply(arguments);return t.each(arguments,function(t,e){s.push(i.normFrmItem(e))}),s.splice(0,0,n,o),e.O.prototype.splice.apply(this,s)},remFrmItm:function(t){var i=this;return this.each(function(s,n){s.name==t&&e.O.prototype.splice.call(i,n,1)}),!0},formChange:function(e,i){var s=this,n=s.name?"."+s.name:"";return e&&s.el.trigger(t.Event("formupdate"),[s,i]).trigger(t.Event("formupdate"+n),[s,i]),s.formChanged=e,s.formChanged},setData:function(t,e){t?(this.setData(),this.each(function(i){t[i.name]&&i.val(t[i.name],e)},!0)):this.each(function(t){t.val(null,e)},!0),this.formChange(!1)},disable:function(){return this.disabled=!0,this.each(function(t){t.disable()},!0)},enable:function(){return this.disabled=!1,this.each(function(t){t.enable()},!0)},setField:function(t,e){this.each(function(i){i.name==t&&i.val(e)},!0)},throwError:function(t){return this.errors.push(t),!1},validate:function(){var t=this;return t.errors=[],t.each(function(e){"undefined"!=typeof e.el.toggleClass&&e.el.toggleClass(t.errCls,!e.validate())},!0),this.formChange(!1),0===t.errors.length}}),e.Note=function(e){t.extend(this,{html:""},e),this.init()},e.Note.prototype=t.extend(new e.O,{init:function(){this.el=t("<div>").html(this.html).addClass("wui-note")}}),e.Label=function(e){t.extend(this,{html:"",labelPosition:"top",labelSize:null},e),this.init()},e.Label.prototype=t.extend(new e.O,{init:function(){var e=this;e.el=t("<div>").addClass("wui-lbl").append(e.label=t("<label>").addClass(e.cls).attr(e.attr?e.attr:{})),e.setLabel(),e.setLabelPosition()},setLabel:function(t){return t=t||this.html,this.label.html(this.html=t),this.label.html()},verifyPosition:function(e){return e&&(e=e.toLowerCase())&&t.inArray(e,["top","left","bottom","right"])>=0?e:this.labelPosition},setLabelSize:function(e){var i=this;if(e=t.isNumeric(e)?e:i.labelSize,i.el.css({paddingLeft:"",paddingRight:"",paddingTop:"",paddingBottom:""}),i.label.css({width:"",height:"",marginLeft:"",marginRight:""}),t.isNumeric(e)){var s="height"==n?0:parseInt("left"==i.labelPosition?i.label.css("margin-right"):i.label.css("margin-left")),n=t.inArray(i.labelPosition,["top","bottom"])>=0?"height":"width";i.el.css("padding-"+i.labelPosition,e),isNaN(s)&&(s=5),i.label.css(n,e-s),i.field&&(i.field.labelSize=i.labelSize=e)}i.adjustField()},adjustField:function(){var e=this,i=t.inArray(e.labelPosition,["top","bottom"])>=0?"height":"width";e.field&&"width"==i&&e.label.outerHeight()>e.field.el.height()&&e.field.el.css("min-height",e.label.outerHeight())},setLabelPosition:function(t){var e=this;return t=e.verifyPosition(t),e.el.removeClass("lbl-"+e.labelPosition).addClass("lbl-"+t),e.field&&(e.field.labelPosition=t),e.labelPosition=t,e.setLabelSize(),e.labelPosition}}),e.FormField=function(e){t.extend(this,{disabled:!1,invalidMsg:null,label:null,labelCls:null,labelSize:null,required:!1,validRegEx:null,validTest:null},e)},e.FormField.prototype=t.extend(new e.O,{labelPosition:"top",init:function(){var i=this;return i.value=i.hasOwnProperty("value")?i.value:null,i.el=t("<div>").addClass("wui-fe"),i.label&&i.label.length>0&&(i.lbl=new e.Label({html:i.label,cls:i.labelCls,field:i,labelPosition:i.labelPosition,labelSize:i.labelSize}),i.elAlias=i.el,i.el=i.lbl.el.append(i.elAlias)),i.el},onRender:function(){this.disabled&&this.disable(),this.hasOwnProperty("value")&&this.val(this.value,!1)},afterRender:function(){this.lbl&&this.lbl.adjustField()},disable:function(){this.disabled=!0,this.el&&this.el.addClass&&this.el.addClass("wui-disabled").find("input,textarea,iframe").attr({readonly:!0,tabIndex:-1})},enable:function(){this.disabled=!1,this.el&&this.el.addClass&&this.el.removeClass("wui-disabled").find(".wui-disabled,*[readonly]").removeAttr("readonly tabIndex")},validate:function(){function e(){return"undefined"!=typeof i.parent.throwError?i.parent.throwError(o):!1}var i=this,s=i.val(),n=null!==i.label?i.label:"undefined"!=typeof i.name?i.name:null,o=null!==i.invalidMsg?i.invalidMsg:null!==n?"A value for '"+n+"' is required.":"A required field has an improper value.";if(i.validTest&&"function"==typeof i.validTest&&i.validTest(s)===!1)return e();if(t.isNumeric(i.maxChars)&&s&&s.length>i.maxChars)return o=n&&t.trim(n).length?"'"+n+"' must be less than "+i.maxChars+" characters.":"You have a field with too many characters in it, the max is "+i.maxChars+".",e();if(null!==i.validRegEx&&!i.validRegEx.test(t.trim(s)))return e();if(i.required){if(null===s||void 0===s)return e();if("string"==typeof s&&0===t.trim(s).length)return e()}return!0},val:function(){if(arguments.length){var t=this.value;return this.setVal.apply(this,arguments),arguments[1]!==!1&&this.setChanged(t),arguments}return this.getVal()},setChanged:function(i){var s=this,n=s.name?"."+s.name:"";s.parent&&s.parent instanceof e.Form&&s.parent.formChange(!0,s),s.valChange(s,s.value,i),s.el?s.el.trigger(t.Event("valchange"),[s,s.value,i]).trigger(t.Event("valchange"+n),[s,s.value,i]):s.parent&&s.parent instanceof e.Form&&s.parent.el.trigger(t.Event("hiddenchange"),[s,s.value,i]).trigger(t.Event("hiddenchange"+n),[s,s.value,i])},getVal:function(){return this.value},setVal:function(t){this.value=t},valChange:function(){}}),e.Hidden=function(e){t.extend(this,{el:t("<div>").hide()},e),this.init()},e.Hidden.prototype=t.extend(new e.FormField,{init:function(){}}),e.Text=function(e){t.extend(this,{blankText:"",counter:!1,maxChars:null},e,{field:t("<input>").attr({type:"text"})}),this.init()},e.Text.prototype=t.extend(new e.FormField,{init:function(){var t=this;e.FormField.prototype.init.call(t),t.blankText&&t.blankText.length&&t.setBlankText(t.blankText),t.append(e.Text.prototype.setListeners.call(t,t))},setBlankText:function(t){var e=this;return e.blankText=t,e.field.attr("placeholder",t),t},setListeners:function(i){var s=this,n=null;return i.field.focusin(function(){n=s.field.val()}).blur(function(){n!=s.field.val()&&(s.val(),s.setChanged())}),t.isNumeric(i.maxChars)&&i.counter===!0&&(i.append(i.charCounter=t("<div>").addClass("wui-char-counter")),i.field.keyup(function(){var t=i.val()?i.maxChars-i.val().length:i.maxChars;i.charCounter.text(t),t>=0?i.charCounter.css("color","#333"):i.charCounter.css("color","#900")}),i.field.keyup()),this.setListeners!==e.Text.prototype.setListeners&&this.setListeners(this),i.field},fieldText:function(t){this.field.val(t)},getVal:function(){return this.value=this.field.val()&&this.field.val().length?this.field.val():null},setVal:function(e){this.fieldText(this.value=e&&t.trim(e).length?e:null)}}),e.Textarea=function(e){t.extend(this,{field:t("<textarea>"),height:80},e),this.init()},e.Textarea.prototype=t.extend(new e.Text,{init:function(){var t=this;e.Text.prototype.init.call(t)},cssByParam:function(){e.O.prototype.cssByParam.apply(this,arguments);var i=this.lbl&&t.inArray(this.lbl.labelPosition,["top","bottom"])>=0?this.lbl.label.outerHeight():0;this.el.css({height:"",minHeight:this.height}),this.field.css({height:"",minHeight:this.height-i})}}),e.Radio=function(e){t.extend(this,{buttonStyle:!1,name:"wui-radio",options:[],template:'<li><input type="radio" id="{id}" value="{val}" name="{name}" /><label for="{id}">{title}</label></li>'},e,{el:t("<div>")}),this.init()},e.Radio.prototype=t.extend(new e.FormField,{init:function(){e.FormField.prototype.init.call(this),this.el.addClass("wui-radio");var i=this,s=new e.Template({template:this.template}),n=t("<ul>");t.each(i.options,function(o,r){r.name=i.name,r.id=e.id(),n.append(s.make(s.data=r).children("label").attr({unselectable:"on"}).keyup(function(e){(13==e.keyCode||32==e.keyCode)&&t(this).click()}).end().children("input").change(function(){i.elemChange(t(this))}).focus(function(){n.addClass("has-focus")}).blur(function(){n.removeClass("has-focus")}).end())}),i.buttonStyle&&(n.addClass("button"),n.find("label").attr({tabindex:0})),i.append(n)},disable:function(){this.disabled=!0,this.el&&this.el.addClass&&this.el.addClass("wui-disabled").find("input,textarea,iframe").attr("disabled","disabled")},elemChange:function(t){this.val(t.val())},enable:function(){this.disabled=!1,this.el&&this.el.addClass&&this.el.removeClass("wui-disabled").find(".wui-disabled,*[disabled]").removeAttr("disabled")},onRender:function(){var i=this;i.el.find("input").each(function(){t(this).css({margin:"0 5px 0"+(i.buttonStyle?-1:0)*(5+t(this).outerWidth())+"px"})}),e.FormField.prototype.onRender.call(i)},getVal:function(){return this.value},setVal:function(t){this.value=t,this.el.find("input[value='"+t+"']").attr("checked",!0)}}),e.Checkbox=function(e){t.extend(this,{name:"wui-checkbox",template:'<li><input type="checkbox" id="{id}" value="{val}" name="{name}" /><label for="{id}">{title}</label></li>'},e),this.init()},e.Checkbox.prototype=t.extend(new e.Radio,{calcVal:function(){var e=this,i=[];return e.el.find("input:checked").each(function(){i.push(t(this).val())}),i.length>0?i.length>1?i:i[0]:null},elemChange:function(){this.val(this.calcVal())},init:function(){var t=this;if(0===t.options.length&&t.options.push({val:1,title:""}),e.Radio.prototype.init.call(t),t.el.removeClass("wui-radio").addClass("wui-checkbox"),1==t.options.length){if(!t.label||!t.label.length)throw"Wui Forms - A Checkbox field "+(t.name?"('"+t.name+"')":"")+" requires a label if it doesn't have options defined.";t.el.find("li label").html(t.label),t.lbl.label.html(""),t.el.css({paddingTop:0,paddingBottom:0})}},getVal:function(){return this.calcVal()},setVal:function(e){var i=this;if(i.value=t.isArray(e)?e:null===e?null:[e],1!=i.options.length||"number"!=typeof e&&"string"!=typeof e){if(i.el.find("input").attr("checked",!1),i.el.find("label").removeClass("checked"),i.value&&i.value.length)for(var s=0;s<i.value.length;s++)i.el.find("input[value="+i.value[s]+"]").prop("checked",!0).siblings("li").addClass("checked")}else i.el.find("input").prop("checked",!!parseInt(e)).siblings("li").toggleClass("checked",!!parseInt(e))},validTest:function(){return this.required&&0===this.val()?!1:!0}}),e.Combo=function(e){if(t.extend(this,{autoLoad:!1,ddCls:"",emptyMsg:"No Results.",field:t("<input>").attr({type:"text"}),filterField:!0,forceSelect:!1,minKeys:1,searchArgName:"srch",searchLocal:!0,showDD:!0,titleItem:null,valueItem:null},e,{multiSelect:!1}),(!this.hasOwnProperty("template")||null===this.template||void 0===this.template)&&this.hasOwnProperty("valueItem")&&this.hasOwnProperty("titleItem")&&this.valueItem&&this.titleItem&&(this.template="<li>{"+this.titleItem+"}</li>",this.noSpecifiedTemplate=!0),!this.template)throw new Error("Wui.js - valueItem and titleItem, or template, are required configs for a Combo.");this.init()},e.Combo.prototype=t.extend(new e.FormField,new e.DataList,{close:function(){this._open=!1,this.dd.hide(),t("body").css("overflow",this.bodyState)},hilightText:function(i){var s=this;s.dd.children().each(function(e,n){function o(t){return r(t).html(t.text().replace(new RegExp(i,"ig"),function(t){return"<span class='wui-highlight'>"+t+"</span>"}))}function r(e){return e.find(".wui-highlight").each(function(){t(this).replaceWith(t(this).html())}).end()}n=t(n);var a=n.text();a.toUpperCase().indexOf(i.toUpperCase())>=0&&s.noSpecifiedTemplate?o(n).show():r(n).hide()}),e.positionItem(s.field,s.dd)},init:function(){var i=this;e.FormField.prototype.init.call(i),i.el.addClass("wui-combo "+(i.idCls=e.id())),i._open=!1,i.identity=i.valueItem,"undefined"!=typeof i.blankText&&i.setBlankText(i.blankText),i.append(i.wrapper=t("<div>").addClass("wui-combo").append(i.setListeners(i))),t("body").append(i.dd=t("<ul>").addClass("wui-combo-dd "+i.ddCls).on("mousewheel scroll",function(t){t.stopPropagation()})),i.el.on({wuichange:function(t,s,n,o,r){var a=r.length?o[s.titleItem]:s.previous;e.Text.prototype.fieldText.call(i,a),t.stopPropagation()},click:function(t){t.stopPropagation()},wuiselect:function(t){t.stopPropagation()},wuideselect:function(t){t.stopPropagation()},datachanged:function(t){t.stopPropagation()},wuidblclick:function(t){t.stopPropagation()}}),i.showDD&&(i.ddSwitch=new e.Button({click:function(){i._open?i.close():i.open(),i.field.focus()},text:"",tabIndex:-1,appendTo:i.wrapper,cls:"field-btn dd-switch"}),i.ddSwitch.place(),i.ddSwitch.el.mousedown(function(){i.isBlurring=!1}))},itemSelect:function(e,i){{var s=this;s.name?"."+s.name:""}return s.dd.find(".wui-selected").removeClass("wui-selected"),e.el.addClass("wui-selected"),s.selected=[e],s.multiSelect||i||s.el.trigger(t.Event("wuiselect"),[s,e.el,e.rec]).trigger(t.Event("wuichange"),[s,e.el,e.rec,s.selected]),e},make:function(){var i=this;if(i.elAlias=i.dd.empty().removeClass("wui-spinner"),e.DataList.prototype.make.apply(i,arguments),0===i.data.length&&i.elAlias.html(i.emptyMsg),i.dd.children().off("click").bind("touchstart",function(){i.itemSelect(t(this).data("itm")),i.isBlurring=!1}).on({mouseenter:function(){i.itemSelect(t(this).data("itm"))},mousedown:function(){i.isBlurring=!1},click:function(){i.set(),i.field.focus()}}),i.previous&&i.previous.length&&i.noSpecifiedTemplate&&i.hilightText(i.previous),i.dd.on("mousedown",function(){i.isBlurring=!1}),i.value&&0==i.field.val().length){var s=i.selectBy(i.valueItem,i.value);s?i.set():i.notFound(i.value)}e.positionItem(i.field,i.dd)},modifyItem:function(t){return t.el.data("itm",t)},notFound:function(){},afterRender:function(){this.afterRendered!==!0&&(e.FormField.prototype.onRender.apply(this,arguments),this.autoLoad&&null!==this.url?this.loadData():null===this.url&&this.make(),this.afterRendered=!0)},onRender:function(){},open:function(){var i=this,s=i.field.innerWidth()<100?100:i.field.innerWidth();i._open=!0,t(document).one("click","*:not(."+i.idCls+" input)",function(t){t.target!==i.field[0]&&i.close()}),i.bodyState=t("body").css("overflow"),t("body").append(i.dd.width(s).show()).css("overflow","hidden"),e.positionItem(i.field,i.dd),i.scrollToCurrent()},searchData:function(t){var e=this,i=e.previous||void 0;
if(e.filterField)if(e.previous=t,e.searchLocal)e.hilightText(t);else if(e.clearSelect(),(t.length>=e.minKeys||0===t.length)&&e.previous!=i){0===t.length&&e.val(null),e.dd.addClass("wui-spinner");var s={};s[e.searchArgName]=t,e.loadData(s)}},selectAjacent:function(t){var e=this,i=e._open?":visible":"",s=e.elAlias||e.el,n=1==t?":first":":last",o=1==t?"nextAll":"prevAll",r=e.selected.length?e.selected[0].el[o](i+":first"):s.children(i+n);return e.selectByEl(r)},selectBy:function(t,e){var i=this,s=void 0;return i.each(function(n){return void 0!==n.rec[t]&&n.rec[t]==e?s=i.itemSelect(n):void 0}),s},selectByEl:function(t){var e=this,i=void 0;return e.itemSelect(i=e.getItemByEl(t)),i},set:function(){var t=this;t.selected[0]&&t.value!=t.selected[0].rec&&t.val(t.selected[0].rec),t._open&&t.close()},setBlankText:function(){e.Text.prototype.setBlankText.apply(this,arguments)},setListeners:function(t){function e(e){var i=null;if(t.selected.length){var s=1==e?":last":":first",n=t._open?":visible":"",o=(t.elAlias||t.el).children(n+s)[0]==t.selected[0].el[0];o?t.clearSelect():i=t.selectAjacent(e)}else i=t.selectAjacent(e);t._open||(null!==i?t.set():(t.val(null),t.field.val(t.previous)))}return t.field.on({keydown:function(i){switch(0===t.field.val().length&&(t.value=null),i.keyCode){case 40:i.preventDefault(),e(1);break;case 38:i.preventDefault(),e(-1);break;case 9:t.set();break;case 27:i.preventDefault(),t.field.val(t.previous),t.close()}i.stopPropagation()},keyup:function(e){13==e.keyCode&&(e.preventDefault(),t.set()),e.stopPropagation()},input:function(){t._open||t.open(),t.searchData(this.value)},focus:function(e){t.isBlurring=void 0,e.stopPropagation()},blur:function(){t.isBlurring!==!1?t.close():setTimeout(function(){t.field.focus()},10)}})},setVal:function(t){var e=this;return e.value=t,null===t?(e.clearSelect(),t):"object"==typeof t?e.selectBy(e.valueItem,t[e.valueItem]):e.selectBy(e.valueItem,t)},getVal:function(){return null!==this.value&&"undefined"!=typeof this.value[this.valueItem]?this.value[this.valueItem]:this.value}}),e.Datetime=function(e){t.extend(this,e,{field:t("<input>").attr({type:"text"}),minDate:null,maxDate:null}),this.init()},e.dateExt!==!0&&(e.dateExt=!0,t.extend(Date,{CultureInfo:{name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM"},isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},getTimezoneOffset:function(t,e){return e?Date.CultureInfo.abbreviatedTimeZoneDST[t.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[t.toUpperCase()]},getTimezoneAbbreviation:function(t,e){var i,s=e?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(i in s)if(s[i]===t)return i;return null}}),t.extend(Date.prototype,{getDayOfYear:function(){var t=new Date(this.getFullYear(),0,0),e=this-t,i=864e5,s=Math.floor(e/i)-1;return s},getDaysInMonth:function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},addMilliseconds:function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},addSeconds:function(t){return this.addMilliseconds(1e3*t)},addMinutes:function(t){return this.addMilliseconds(6e4*t)},addHours:function(t){return this.addMilliseconds(36e5*t)},addDays:Date.prototype.addDays=function(t){return this.addMilliseconds(864e5*t)},addWeeks:function(t){return this.addMilliseconds(6048e5*t)},addMonths:function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this},addYears:function(t){return this.addMonths(12*t)},add:function(t){if("number"==typeof t)return this._orient=t,this;var e=t;return(e.millisecond||e.milliseconds)&&this.addMilliseconds(e.millisecond||e.milliseconds),(e.second||e.seconds)&&this.addSeconds(e.second||e.seconds),(e.minute||e.minutes)&&this.addMinutes(e.minute||e.minutes),(e.hour||e.hours)&&this.addHours(e.hour||e.hours),(e.month||e.months)&&this.addMonths(e.month||e.months),(e.year||e.years)&&this.addYears(e.year||e.years),(e.day||e.days)&&this.addDays(e.day||e.days),this},getDayName:function(t){return t?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},getMonthName:function(t){return t?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},_toString:Date.prototype.toString,toString:function(t){var e=this,i=function(t){return 1==t.toString().length?"0"+t:t};return t?t.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(t){switch(t){case"hh":return i(e.getHours()<13?e.getHours():e.getHours()-12);case"h":return e.getHours()<13?e.getHours():e.getHours()-12;case"HH":return i(e.getHours());case"H":return e.getHours();case"mm":return i(e.getMinutes());case"m":return e.getMinutes();case"ss":return i(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return e.getFullYear();case"yy":return e.getFullYear().toString().substring(2,4);case"dddd":return e.getDayName();case"ddd":return e.getDayName(!0);case"dd":return i(e.getDate());case"d":return e.getDate().toString();case"MMMM":return e.getMonthName();case"MMM":return e.getMonthName(!0);case"MM":return i(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return e.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return e.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()}})),e.Datetime.prototype=t.extend(new e.Text,{second:1e3,minute:6e4,hour:36e5,day:864e5,days:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],shortDays:["sun","mon","tue","wed","thu","fri","sat"],months:["january","february","march","april","may","june","july","august","september","october","november","december"],shortMonths:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],sarcasmArray:["Not quite.","Huh?","Nope","Arg..","Sorry","What?","Bleck.","Nuh-uh.","Keep Trying.","No Entiendo."],dispFormat:"ddd MM-dd-yyyy h:mm tt",dtFormat:"MM-dd-yyyy h:mm tt",dateOnly:!1,displayDate:function(t){var e=this;return void 0!==t?(e.displayDiv.html(t),t):""!==e.value&&e.value?(e.displayDiv.html(e.minDate&&e.value<e.minDate?e.value.toString(e.dtFormat)+" is before the min date.":e.maxDate&&e.value>e.maxDate?e.maxDate.toString(e.dtFormat)+" is past the max date.":e.value.toString(e.dispFormat)),e.value.toString(e.dtFormat)):null},getM:function(t){for(var e=0;(t/=10)>=1;)e++;return e},init:function(){var i=this;e.Text.prototype.init.call(i),i.dateOnly&&(i.hasOwnProperty("dispFormat")||(i.dispFormat="ddd MM-dd-yyyy"),i.hasOwnProperty("dtFormat")||(i.dtFormat="MM-dd-yyyy")),i.append(t("<div>").addClass("wui-date").append(i.setListeners(i),i.displayDiv=t("<div>").addClass("feedback").attr({tabindex:-1}),i.toggleCal=t("<button>").addClass("wui-cal-toggle").attr({tabIndex:-1}))),i.toggleCal.click(function(){return i.calendar?(i.calendar.remove(),i.calendar=void 0):(t("body").append(i.calendar=i.makeCalendar(void 0,function(t,e,s){i.value=i.validDate(i.value)?new Date(t,e,s,i.value.getHours(),i.value.getMinutes()):new Date(t,e,s),i.val(i.displayDate())}).click(function(){return!1})),t(document).one("click",function(){t(".wui-cal").remove(),i.calendar=void 0}),e.positionItem(i.field,i.calendar)),!1})},num2Dec:function(e){var i={a:1,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,thirty:30,forty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100,thousand:1e3,million:1e6,billion:1e9,trillion:1e12,quadrillion:1e15,quintillion:1e18};e=e.toString().replace(/ and /g," ").replace(/-/g," "),t.each(i,function(t){e=e.replace(new RegExp("(^|[ ]|-)"+t+"(-|[ ]|$)","g")," "+i[t]+" ")});for(var s=t.trim(e).split(/[ ]+/),n=[],o=0,r=0;s[r];)this.getM(s[r])>2&&(n.push(s.splice(0,r+1)),r=0),r++;n.push(s);for(var a=0;a<n.length;a++){var l=this.txt2Num(n[a]);parseInt(l)&&(o+=parseInt(l))}return o},makeCalendar:function(e,i,s){function n(e){var a=1,c=0,u=0,d=e.getMonth(),p=e.getFullYear(),f=e.getDate(),g=new Date(p,d,1),m=g.getDay(),v=e.getDaysInMonth(),b=o.months[d],y='<table wui-month="'+d+'" wui-year="'+p+'">';for(y+='<tr><th colspan="7"><div class="wui-cal-header">'+b+" "+p+"</div></th></tr>",y+='<tr class="wui-cal-header-day">',c=0;6>=c;c++)y+="<td>"+o.shortDays[c].substring(0,2)+"</td>";for(y+="</tr><tr>",c=0;9>c;c++){for(u=0;6>=u;u++){if(y+="<td>",v>=a&&(c>0||u>=m)){var w=new Date(p,d,a),_=o.minDate&&w<o.minDate||o.maxDate&&w>o.maxDate?" wui-cal-disabled":"";y+='<a class="wui-cal-day'+_+'">'+a++ +"</a>"}y+="</td>"}if(a>v)break;y+="</tr><tr>"}y+="</tr></table>";var x=t(y),C=x.find(".wui-cal-header");return C.append('<a class="wui-cal-prev">','<a class="wui-cal-next">'),C.children("a").click(function(){var e=t(this).hasClass("wui-cal-prev")?-1:1,i=new Date(p,d+e,1);h.empty().append(n(i)),t(document).trigger(t.Event("calupdate"+l),[o,h,i])}),s&&s.getMonth&&s.getMonth()==d&&s.getFullYear()==p&&x.find("a:contains("+f+"):first").addClass("wui-selected"),r.getMonth()==d&&r.getFullYear()==p&&x.find("a:contains("+r.getDate()+"):first").addClass("wui-highlight"),x.find("td a:not(.wui-cal-disabled)").click(function(){var e=t(this),s=parseInt(e.text()),n=e.parents("[wui-month]"),r=parseInt(n.attr("wui-month")),a=parseInt(n.attr("wui-year"));i(a,r,s),o.calendar.remove(),o.calendar=void 0}),x}var o=this,r=new Date,s=o.validDate(s)?s:o.value,a=e||(o.validDate(s)?s:r),l=o.name?"."+o.name:"",h=t("<div>").addClass("wui-cal");return h.append(n(a)),t(document).trigger(t.Event("calupdate"+l),[o,h,a]),h},processDate:function(t){var i=this,s=t||i.field.val();if(s.length>0){var n=i.translateDate(s);return"Invalid Date"==n.toString()?void i.displayDate(i.sarcasmArray[e.randNum(0,i.sarcasmArray.length-1)]):(i.value=n,i.displayDate(),n)}i.value=null,i.displayDate("")},setListeners:function(t){return t.listnersSet!==!0?(t.listnersSet=!0,t.field.on("input",function(){t.processDate()}).on("keyup",function(e){if(40==e.keyCode||38==e.keyCode){var i=t.value instanceof Date?40==e.keyCode?1:-1:0,s=t.value instanceof Date?t.value:new Date;t.value=s.addDays(i),t.displayDate(),t.field.val(t.value.toString(t.dtFormat))}})):t.field},listnersSet:null,setMinDate:function(t){var e=this;return e.minDate=e.translateDate(t.toString()),e.field.datepicker("option","minDate",new Date(e.minDate.valueOf()+e.minute)),e.minDate},translateDate:function(e){var i=this,s=new Date,n=/\d{1,2}\/\d{1,2}\/\d{2,4}/,o=/([a|one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve|twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety|hundred|thousand|million|billion|trillion|and,\d,\s,-]+)\s((millisecond|second|minute|hour|day|week|month|year)+[s]*)\s(from|after|before|previous to)+\s(.+)$/,r=o.exec(e.toLowerCase());if(null!==r){var a=i.num2Dec(r[1]),l={from:1,after:1,before:-1,"previous to":-1},h=l[r[4]],c=i.translateDate(r[5]);return c["add"+r[3].charAt(0).toUpperCase()+r[3].slice(1)+"s"](a*h)}return null!==e.toLowerCase().match(/now/)?s:(e=e.toLowerCase().replace("noon","12").replace("midnight","00:00").replace(/o.clock/,"").replace(/(\d+)[st|nd|rd|th]+/,function(t,e){return e}).replace(/(\d{4})-(\d{1,2})-(\d{1,2})/g,function(t,e,i,s){return i+"/"+s+"/"+e}).replace(/(\d{1,2})-(\d{1,2})-(\d{2,4})/g,function(t,e,i,s){return e+"/"+i+"/"+s}).replace(/^(\d{1,2})-(\d{1,2})[\s]*/,function(t,e,i){return e+"/"+i+" "}).replace("at","@").replace(/(today|tomorrow|yesterday)/,function(t,e){var n={today:0,tomorrow:1,yesterday:-1},o=new Date(s.valueOf()+i.day*n[e]);return o.getMonth()+1+"/"+o.getDate()+"/"+o.getFullYear()}).replace(/(next|last) ([a-z]{3,10})[ ]*([0-9]+)*/,function(e,n,o,r){var a=i.day*("next"==n?1:-1),l=t.inArray(o,i.days)>-1?t.inArray(o,i.days):t.inArray(o,i.shortDays),h=t.inArray(o,i.months)>-1?t.inArray(o,i.months):t.inArray(o,i.shortMonths),c=l>-1?l:h>-1?h:-1,u=l>-1?"getDay":h>-1?"getMonth":"";if(c>-1){for(var d=s.valueOf(),p=new Date(d+=a);p[u]()!=c;)p=new Date(d+=a);return void 0!==h&&-1!=h&&0!==r.length&&p.setDate(parseInt(r)),p.getMonth()+1+"/"+p.getDate()+"/"+p.getFullYear()+" "}return""}).replace(/(\d{1,2})[ -]+([a-z]{3,10})([ -]*)/,function(e,s,n,o){return(t.inArray(n,i.months)>-1?t.inArray(n,i.months):t.inArray(n,i.shortMonths))+1+"/"+s+o.replace("-"," ")}).replace(/(\b(one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve|twenty|thirty|forty|fifty|-)+\b)/g,function(t,e){return i.num2Dec(e)}).replace(/([a-z]{3,10}) (\d{1,2})[,]*/,function(e,s,n){return(t.inArray(s,i.months)>-1?t.inArray(s,i.months):t.inArray(s,i.shortMonths))+1+"/"+n}).replace(/^(\d{1,2}\/\d{1,2}(?![\d]))([\s|\/]*)(\d{0,4})/,function(t,e,n,o){if(2==o.length){var r=parseInt(s.getFullYear().toString().substr(2,4)),a=100*parseInt(s.getFullYear().toString().substr(0,2)),l=parseInt(o),h=100-l,c=50>r?-100*(h>=50?0:1):100*(50>h?0:1),u=a+l+c;return e+"/"+u}if(4==o.length)return e+"/"+o;var d=e+"/"+s.getFullYear().toString(),p=new Date(d);return p.valueOf()>s.valueOf()?d:e+"/"+new Date(s.valueOf()+365*i.day).getFullYear()+" "}).replace(/(\d{1,2}\/\d{1,2})\s(\d{4})/,function(t,e,i){return e+"/"+i}),e=n.test(e)===!0?e:s.getMonth()+1+"/"+s.getDate()+"/"+s.getFullYear()+" "+e,e=e.replace(/(\d{1,2}\/\d{1,2}\/\d{4})\s(.+)/,function(t,e,i){return-1==i.indexOf("@")&&(i="@ "+i),e+" "+i}).replace(/\d[ ]*[a|p]$/,function(t){return t+"m"}).replace(/[a|p][.][m]*[.]*/,function(t){return t.replace(/[.]/g,"")}).replace(/\d.m/,function(t){return t.substring(0,t.length-2)+" "+t.substring(t.length-2,3)}).replace(/@ (\d+[ ]\d+)/,function(t,e){return e.replace(" ",":")}).replace(/@ (\d+)/,function(t,e,i,s){return-1!=s.indexOf(":")?t:t.trim()+":00 "}).replace(/@/g,""),new Date(e))},txt2Num:function(t){var e=0,i=0,s=0,n=0,o=0,r=!1;if(1==t.length)return t[0];for(;void 0!==t[e+1];)s=parseInt(t[e]),n=parseInt(t[e+1]),r=this.getM(s)<=this.getM(n),o=parseInt(t[t.length-1]),0===e?i=r?s*n:s+n:r?i*=n:i+=n,e++;return o!=n?this.getM(o)>2?i*=o:i+=o:i},getVal:function(){return this.value},setVal:function(t){null!==t?"string"==typeof t?(this.fieldText(t),this.processDate()):(this.value=t,this.fieldText(this.displayDate())):(this.fieldText(""),this.displayDiv.html(""),this.value=null)},validDate:function(t){return null===t||"undefined"==typeof t?!1:"function"!=typeof t.getTime?!1:"Invalid Date"==t.toString()?!1:!0}}),e.input=function(i,s,n,o,r){o?o.length||(o=o instanceof e.FormField||o.ftype?[o]:[{ftype:"Wui.Text"}]):o=[{ftype:"Wui.Text"}],1==o.length&&t.extend(o[0],{label:i,required:!0,name:"inputField"}),void 0!==r&&o.splice(0,0,{ftype:"Wui.Note",html:r});var a=new e.Form({labelPosition:"left",items:o}),l=new e.Window({title:n||"Input",bbar:[new e.Button({text:"Cancel",click:function(){l.closeOkay=!0,l.close()}}),new e.Button({text:"Submit",click:function(){l.getVal()}})],isModal:!0,items:[a],cls:"wui-input-window",width:600,getVal:function(){var t=a.getData();if(t)if(s&&"function"==typeof s){var i=e.getKeys(t).length,n=s(1==i&&t.inputField?t.inputField:t);l.closeOkay=void 0===s?!0:n}else l.closeOkay=!0},doClose:function(){l.closeOkay=!0,l.close()},onWinClose:function(){return l.closeOkay!==!0?!1:l.closeOkay}});return l.header.splice(0,1),a}}(jQuery,Wui);